---
permalink: protect-sco/reference_prerequisites_for_adding_hosts_and_installing_snapcenter_plug_ins_package_for_linux_or_aix.html 
sidebar: sidebar 
keywords: prerequisites, iSCSI, Oracle path, host requirement for Linux, sudo privileges, non-root user, host requirements for AIX, credentials, authenticate, domain administrator, local administrator, workgroup, sudo, root user 
summary: Antes de adicionar um host e instalar os pacotes de plug-ins, você deve atender a todos os requisitos. 
---
= Pré-requisitos para adicionar hosts e instalar o pacote de plug-ins para Linux ou AIX
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Antes de adicionar um host e instalar os pacotes de plug-ins, você deve atender a todos os requisitos.

* Se você estiver usando iSCSI, o serviço iSCSI deverá estar em execução.
* Você deve ter habilitado a conexão SSH baseada em senha para o usuário root ou não root.
+
O plug-in SnapCenter para Oracle Database pode ser instalado por um usuário não root.  No entanto, você deve configurar os privilégios sudo para que o usuário não root instale e inicie o processo do plug-in.  Após instalar o plug-in, os processos serão executados como um usuário não root.

* Se estiver instalando o pacote de plug-ins SnapCenter para AIX no host AIX, você deverá ter resolvido manualmente os links simbólicos no nível do diretório.
+
O pacote de plug-ins SnapCenter para AIX resolve automaticamente o link simbólico no nível do arquivo, mas não os links simbólicos no nível do diretório para obter o caminho absoluto JAVA_HOME.

* Crie credenciais com modo de autenticação como Linux ou AIX para o usuário de instalação.
* Você deve ter instalado o Java 11 no seu host Linux ou AIX.
+
** Java da Oracle e OpenJDK são suportados para Linux
** IBM Java para AIX.  Você pode baixar de https://developer.ibm.com/languages/java/semeru-runtimes/downloads/?version=11&os=AIX["Downloads do IBM Semeru Runtimes"]
+

NOTE: Certifique-se de ter instalado apenas a edição certificada do JAVA 11 no host Linux.



* Para bancos de dados Oracle em execução em um host Linux ou AIX, você deve instalar o SnapCenter Plug-in para Oracle Database e o SnapCenter Plug-in para UNIX.
+

NOTE: Você também pode usar o Plug-in para Oracle Database para gerenciar bancos de dados Oracle para SAP.  Entretanto, a integração do SAP BR*Tools não é suportada.

* Se estiver usando o banco de dados Oracle 11.2.0.3 ou posterior, você deverá instalar o patch 13366202 do Oracle.



NOTE: O mapeamento de UUID no arquivo /etc/fstab não é suportado pelo SnapCenter.

* Você deve ter *bash* como o shell padrão para instalação de plug-ins.




== Requisitos do host Linux

Você deve garantir que o host atenda aos requisitos antes de instalar o Pacote de plug-ins do SnapCenter para Linux.

|===
| Item | Requisitos 


 a| 
Sistemas operacionais
 a| 
* Red Hat Enterprise Linux
* Oracle Linux
+

NOTE: Se você estiver usando o banco de dados Oracle no LVM nos sistemas operacionais Oracle Linux ou Red Hat Enterprise Linux 6.6 ou 7.0, deverá instalar a versão mais recente do Logical Volume Manager (LVM).

* Servidor SUSE Linux Enterprise (SLES)




 a| 
RAM mínima para o plug-in SnapCenter no host
 a| 
2 GB



 a| 
Espaço mínimo de instalação e registro para o plug-in SnapCenter no host
 a| 
2 GB


NOTE: Você deve alocar espaço em disco suficiente e monitorar o consumo de armazenamento pela pasta de logs.  O espaço de log necessário varia dependendo do número de entidades a serem protegidas e da frequência das operações de proteção de dados.  Se não houver espaço em disco suficiente, os logs não serão criados para as operações executadas recentemente.



 a| 
Pacotes de software necessários
 a| 
Java 11 Oracle e OpenJDK


NOTE: Certifique-se de ter instalado apenas a edição certificada do JAVA 11 no host Linux.

Se você atualizou o JAVA para a versão mais recente, certifique-se de que a opção JAVA_HOME localizada em /var/opt/snapcenter/spl/etc/spl.properties esteja definida para a versão correta do JAVA e o caminho correto.

|===
Para obter as informações mais recentes sobre as versões suportadas, consulte o https://imt.netapp.com/matrix/imt.jsp?components=121073;&solution=1257&isHWU&src=IMT["Ferramenta de Matriz de Interoperabilidade da NetApp"^] .



=== Configurar privilégios sudo para usuários não root para host Linux

O SnapCenter 2.0 e versões posteriores permitem que um usuário não root instale o Pacote de plug-ins do SnapCenter para Linux e inicie o processo de plug-in.  Os processos do plug-in serão executados como um usuário não root efetivo.  Você deve configurar privilégios sudo para que o usuário não root forneça acesso a vários caminhos.

*O que você vai precisar*

* Sudo versão 1.8.7 ou posterior.
* Se a umask for 0027, certifique-se de que a pasta java e todos os arquivos dentro dela tenham permissão de 555.  Caso contrário, a instalação do plug-in poderá falhar.
* Para o usuário não root, certifique-se de que o nome do usuário não root e o nome do grupo do usuário sejam os mesmos.
* Edite o arquivo _/etc/ssh/sshd_config_ para configurar os algoritmos do código de autenticação de mensagens: MACs hmac-sha2-256 e MACs hmac-sha2-512.
+
Reinicie o serviço sshd após atualizar o arquivo de configuração.

+
Exemplo:

+
[listing]
----
#Port 22
#AddressFamily any
#ListenAddress 0.0.0.0
#ListenAddress ::
#Legacy changes
#KexAlgorithms diffie-hellman-group1-sha1
#Ciphers aes128-cbc
#The default requires explicit activation of protocol
Protocol 2
HostKey/etc/ssh/ssh_host_rsa_key
MACs hmac-sha2-256
----


*Sobre esta tarefa*

Você deve configurar privilégios sudo para que o usuário não root forneça acesso aos seguintes caminhos:

* /home/_LINUX_USER_/.sc_netapp/snapcenter_linux_host_plugin.bin
* /localização_personalizada/ NetApp/snapcenter/spl/instalação/plugins/desinstalação
* /localização_personalizada/ NetApp/snapcenter/spl/bin/spl


*Passos*

. Efetue login no host Linux no qual você deseja instalar o pacote de plug-ins do SnapCenter para Linux.
. Adicione as seguintes linhas ao arquivo /etc/sudoers usando o utilitário visudo Linux.
+
[listing, subs="+quotes"]
----
Cmnd_Alias HPPLCMD = sha224:checksum_value== /home/_LINUX_USER_/.sc_netapp/snapcenter_linux_host_plugin.bin, /opt/NetApp/snapcenter/spl/installation/plugins/uninstall, /opt/NetApp/snapcenter/spl/bin/spl, /opt/NetApp/snapcenter/scc/bin/scc
Cmnd_Alias PRECHECKCMD = sha224:checksum_value== /home/_LINUX_USER_/.sc_netapp/Linux_Prechecks.sh
Cmnd_Alias CONFIGCHECKCMD = sha224:checksum_value== /opt/NetApp/snapcenter/spl/plugins/scu/scucore/configurationcheck/Config_Check.sh
Cmnd_Alias SCCMD = sha224:checksum_value== /opt/NetApp/snapcenter/spl/bin/sc_command_executor
Cmnd_Alias SCCCMDEXECUTOR =checksum_value== /opt/NetApp/snapcenter/scc/bin/sccCommandExecutor
_LINUX_USER_ ALL=(ALL) NOPASSWD:SETENV: HPPLCMD, PRECHECKCMD, CONFIGCHECKCMD, SCCCMDEXECUTOR, SCCMD
Defaults: _LINUX_USER_ env_keep += "IATEMPDIR"
Defaults: _LINUX_USER_ env_keep += "JAVA_HOME"
Defaults: _LINUX_USER_ !visiblepw
Defaults: _LINUX_USER_ !requiretty
----
+

NOTE: Se você tiver uma configuração RAC, junto com os outros comandos permitidos, você deve adicionar o seguinte ao arquivo /etc/sudoers: '/<crs_home>/bin/olsnodes'



Você pode obter o valor de _crs_home_ do arquivo _/etc/oracle/olr.loc_.

_LINUX_USER_ é o nome do usuário não root que você criou.

Você pode obter o _checksum_value_ do arquivo *sc_unix_plugins_checksum.txt*, localizado em:

* _C:\ProgramData\ NetApp\ SnapCenter\Package Repository\sc_unix_plugins_checksum.txt_ se o SnapCenter Server estiver instalado no host Windows.
* _/opt/ NetApp/snapcenter/SnapManagerWeb/Repository/sc_unix_plugins_checksum.txt_ se o SnapCenter Server estiver instalado no host Linux.



IMPORTANT: O exemplo deve ser usado apenas como referência para criar seus próprios dados.



== Requisitos do host AIX

Você deve garantir que o host atenda aos requisitos antes de instalar o Pacote de plug-ins do SnapCenter para AIX.


NOTE: O SnapCenter Plug-in para UNIX, que faz parte do Pacote de Plug-ins SnapCenter para AIX, não oferece suporte a grupos de volumes simultâneos.

|===
| Item | Requisitos 


 a| 
Sistemas operacionais
 a| 
AIX 7.1 ou posterior



 a| 
RAM mínima para o plug-in SnapCenter no host
 a| 
4 GB



 a| 
Espaço mínimo de instalação e registro para o plug-in SnapCenter no host
 a| 
2 GB


NOTE: Você deve alocar espaço em disco suficiente e monitorar o consumo de armazenamento pela pasta de logs.  O espaço de log necessário varia dependendo do número de entidades a serem protegidas e da frequência das operações de proteção de dados.  Se não houver espaço em disco suficiente, os logs não serão criados para as operações executadas recentemente.



 a| 
Pacotes de software necessários
 a| 
Java 11 IBM Java

Se você atualizou o JAVA para a versão mais recente, certifique-se de que a opção JAVA_HOME localizada em /var/opt/snapcenter/spl/etc/spl.properties esteja definida para a versão correta do JAVA e o caminho correto.

|===
Para obter as informações mais recentes sobre as versões suportadas, consulte o https://imt.netapp.com/matrix/imt.jsp?components=121073;&solution=1257&isHWU&src=IMT["Ferramenta de Matriz de Interoperabilidade da NetApp"^] .



=== Configurar privilégios sudo para usuários não root para host AIX

O SnapCenter 4.4 e versões posteriores permitem que um usuário não root instale o Pacote de plug-ins do SnapCenter para AIX e inicie o processo de plug-in.  Os processos do plug-in serão executados como um usuário não root efetivo.  Você deve configurar privilégios sudo para que o usuário não root forneça acesso a vários caminhos.

*O que você vai precisar*

* Sudo versão 1.8.7 ou posterior.
* Se a umask for 0027, certifique-se de que a pasta java e todos os arquivos dentro dela tenham permissão de 555.  Caso contrário, a instalação do plug-in poderá falhar.
* Edite o arquivo _/etc/ssh/sshd_config_ para configurar os algoritmos do código de autenticação de mensagens: MACs hmac-sha2-256 e MACs hmac-sha2-512.
+
Reinicie o serviço sshd após atualizar o arquivo de configuração.

+
Exemplo:

+
[listing]
----
#Port 22
#AddressFamily any
#ListenAddress 0.0.0.0
#ListenAddress ::
#Legacy changes
#KexAlgorithms diffie-hellman-group1-sha1
#Ciphers aes128-cbc
#The default requires explicit activation of protocol
Protocol 2
HostKey/etc/ssh/ssh_host_rsa_key
MACs hmac-sha2-256
----


*Sobre esta tarefa*

Você deve configurar privilégios sudo para que o usuário não root forneça acesso aos seguintes caminhos:

* /home/_AIX_USER_/.sc_netapp/snapcenter_aix_host_plugin.bsx
* /localização_personalizada/ NetApp/snapcenter/spl/instalação/plugins/desinstalação
* /localização_personalizada/ NetApp/snapcenter/spl/bin/spl


*Passos*

. Efetue login no host AIX no qual você deseja instalar o Pacote de plug-ins do SnapCenter para AIX.
. Adicione as seguintes linhas ao arquivo /etc/sudoers usando o utilitário visudo Linux.
+
[listing, subs="+quotes"]
----
Cmnd_Alias HPPACMD = sha224:checksum_value== /home/_AIX_USER_/.sc_netapp/snapcenter_aix_host_plugin.bsx,
/opt/NetApp/snapcenter/spl/installation/plugins/uninstall, /opt/NetApp/snapcenter/spl/bin/spl
Cmnd_Alias PRECHECKCMD = sha224:checksum_value== /home/_AIX_USER_/.sc_netapp/AIX_Prechecks.sh
Cmnd_Alias CONFIGCHECKCMD = sha224:checksum_value== /opt/NetApp/snapcenter/spl/plugins/scu/scucore/configurationcheck/Config_Check.sh
Cmnd_Alias SCCMD = sha224:checksum_value== /opt/NetApp/snapcenter/spl/bin/sc_command_executor
_AIX_USER_ ALL=(ALL) NOPASSWD:SETENV: HPPACMD, PRECHECKCMD, CONFIGCHECKCMD, SCCMD
Defaults: _LINUX_USER_ env_keep += "IATEMPDIR"
Defaults: _LINUX_USER_ env_keep += "JAVA_HOME"
Defaults: _AIX_USER_ !visiblepw
Defaults: _AIX_USER_ !requiretty
----
+

NOTE: Se você tiver uma configuração RAC, junto com os outros comandos permitidos, você deve adicionar o seguinte ao arquivo /etc/sudoers: '/<crs_home>/bin/olsnodes'



Você pode obter o valor de _crs_home_ do arquivo _/etc/oracle/olr.loc_.

_AIX_USER_ é o nome do usuário não root que você criou.

Você pode obter o _checksum_value_ do arquivo *sc_unix_plugins_checksum.txt*, localizado em:

* _C:\ProgramData\ NetApp\ SnapCenter\Package Repository\sc_unix_plugins_checksum.txt_ se o SnapCenter Server estiver instalado no host Windows.
* _/opt/ NetApp/snapcenter/SnapManagerWeb/Repository/sc_unix_plugins_checksum.txt_ se o SnapCenter Server estiver instalado no host Linux.



IMPORTANT: O exemplo deve ser usado apenas como referência para criar seus próprios dados.



== Configurar credenciais

O SnapCenter usa credenciais para autenticar usuários para operações do SnapCenter .  Você deve criar credenciais para instalar o pacote de plug-in em hosts Linux ou AIX.

*Sobre esta tarefa*

As credenciais são criadas para o usuário root ou para um usuário não root que tenha privilégios sudo para instalar e iniciar o processo do plug-in.

Para mais informações, consulte:<<Configurar privilégios sudo para usuários não root para host Linux>> ou<<Configurar privilégios sudo para usuários não root para host AIX>>

|===


| *Melhores práticas:* embora você tenha permissão para criar credenciais após implantar hosts e instalar plug-ins, a melhor prática é criar credenciais depois de adicionar SVMs, antes de implantar hosts e instalar plug-ins. 
|===
*Passos*

. No painel de navegação esquerdo, clique em *Configurações*.
. Na página Configurações, clique em *Credencial*.
. Clique em *Novo*.
. Na página Credencial, insira as informações da credencial:
+
|===
| Para este campo... | Faça isso... 


 a| 
Nome da credencial
 a| 
Digite um nome para as credenciais.



 a| 
Nome de usuário/Senha
 a| 
Digite o nome de usuário e a senha que serão usados para autenticação.

** Administrador de domínio
+
Especifique o administrador de domínio do sistema no qual você está instalando o plug-in SnapCenter . Os formatos válidos para o campo Nome de usuário são:

+
*** _NetBIOS\Nome do Usuário_
*** _FQDN do domínio\Nome do usuário_


** Administrador local (somente para grupos de trabalho)
+
Para sistemas que pertencem a um grupo de trabalho, especifique o administrador local integrado no sistema em que você está instalando o plug-in SnapCenter . Você pode especificar uma conta de usuário local que pertença ao grupo de administradores locais se a conta de usuário tiver privilégios elevados ou se o recurso de Controle de Acesso do Usuário estiver desabilitado no sistema host.  O formato válido para o campo Nome de usuário é: _UserName_





 a| 
Modo de autenticação
 a| 
Selecione o modo de autenticação que você deseja usar.

Dependendo do sistema operacional do host do plug-in, selecione Linux ou AIX.



 a| 
Use privilégios sudo
 a| 
Marque a caixa de seleção *Usar privilégios sudo* se estiver criando credenciais para um usuário não root.

|===
. Clique em *OK*.


Depois de concluir a configuração das credenciais, talvez você queira atribuir a manutenção de credenciais a um usuário ou grupo de usuários na página *Usuário e acesso*.



== Configurar credenciais para um banco de dados Oracle

Você deve configurar credenciais que são usadas para executar operações de proteção de dados em bancos de dados Oracle.

*Sobre esta tarefa*

Você deve revisar os diferentes métodos de autenticação suportados pelo banco de dados Oracle. Para obter informações, consultelink:../get-started/concept_authentication_methods_for_your_credentials.html["Métodos de autenticação para suas credenciais"^] .

Se você configurar credenciais para grupos de recursos individuais e o nome de usuário não tiver privilégios de administrador completos, o nome de usuário deverá ter pelo menos privilégios de grupo de recursos e de backup.

Se você tiver habilitado a autenticação do banco de dados Oracle, um ícone de cadeado vermelho será exibido na exibição de recursos.  Você deve configurar as credenciais do banco de dados para poder proteger o banco de dados ou adicioná-lo ao grupo de recursos para executar operações de proteção de dados.


NOTE: Se você especificar detalhes incorretos ao criar uma credencial, uma mensagem de erro será exibida.  Você deve clicar em *Cancelar* e tentar novamente.

*Passos*

. No painel de navegação esquerdo, clique em *Recursos* e selecione o plug-in apropriado na lista.
. Na página Recursos, selecione *Banco de dados* na lista *Exibir*.
. Cliqueimage:../media/filter_icon.gif["ícone de filtro"] e selecione o nome do host e o tipo de banco de dados para filtrar os recursos.
+
Você pode então clicarimage:../media/filter_icon.gif["ícone de filtro"] para fechar o painel de filtro.

. Selecione o banco de dados e clique em *Configurações do banco de dados* > *Configurar banco de dados*.
. Na seção Configurar definições do banco de dados, na lista suspensa *Usar credencial existente*, selecione a credencial que deve ser usada para executar trabalhos de proteção de dados no banco de dados Oracle.
+

NOTE: O usuário Oracle deve ter privilégios sysdba.

+
Você também pode criar uma credencial clicando emimage:../media/add_icon_configure_database.gif["adicionar ícone na tela de configuração do banco de dados"] .

. Na seção Configurar configurações do ASM, na lista suspensa *Usar credencial existente*, selecione a credencial que deve ser usada para executar trabalhos de proteção de dados na instância do ASM.
+

NOTE: O usuário ASM deve ter privilégio sysasm.

+
Você também pode criar uma credencial clicando emimage:../media/add_icon_configure_database.gif["adicionar ícone na tela de configuração do banco de dados"] .

. Na seção Configurar definições do catálogo RMAN, na lista suspensa *Usar credencial existente*, selecione a credencial que deve ser usada para executar trabalhos de proteção de dados no banco de dados do catálogo do Oracle Recovery Manager (RMAN).
+
Você também pode criar uma credencial clicando emimage:../media/add_icon_configure_database.gif["adicionar ícone na tela de configuração do banco de dados"] .

+
No campo *TNSName*, insira o nome do arquivo Transparent Network Substrate (TNS) que será usado pelo SnapCenter Server para se comunicar com o banco de dados.

. No campo *Nós RAC preferenciais*, especifique os nós do Real Application Cluster (RAC) preferidos para backup.
+
Os nós preferenciais podem ser um ou todos os nós do cluster onde as instâncias do banco de dados RAC estão presentes.  A operação de backup é acionada somente nesses nós preferenciais na ordem de preferência.

+
No RAC One Node, apenas um nó é listado nos nós preferenciais, e esse nó preferencial é o nó onde o banco de dados está hospedado atualmente.

+
Após o failover ou a realocação do banco de dados do RAC One Node, a atualização dos recursos na página Recursos do SnapCenter removerá o host da lista *Nós RAC Preferenciais* onde o banco de dados estava hospedado anteriormente.  O nó RAC onde o banco de dados será realocado será listado em *Nós RAC* e precisará ser configurado manualmente como o nó RAC preferencial.

+
Para obter mais informações, consulte link:../protect-sco/task_define_a_backup_strategy_for_oracle_databases.html#preferred-nodes-in-rac-setup["Nós preferenciais na configuração do RAC"^] .

. Clique em *OK*.

